{"ast":null,"code":"// Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙƒ - ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø·Ø±Ù‚ Ù…ØªØ¹Ø¯Ø¯Ø©\n\nexport class WebhookService {\n  static async sendContactForm(data) {\n    console.log('ðŸ“¤ Ø¨Ø¯Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', data);\n\n    // Ø¬Ø±Ø¨ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Ø£ÙˆÙ„ webhook\n    for (let i = 0; i < this.WEBHOOK_ENDPOINTS.length; i++) {\n      const endpoint = this.WEBHOOK_ENDPOINTS[i];\n      console.log(`ðŸš€ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}: ${endpoint}`);\n      try {\n        const response = await fetch(endpoint, {\n          method: 'POST',\n          mode: 'cors',\n          headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n          },\n          body: JSON.stringify({\n            ...data,\n            webhookAttempt: i + 1,\n            endpoint: endpoint\n          })\n        });\n        if (response.ok) {\n          const responseData = await response.json();\n          console.log('âœ… Ù†Ø¬Ø­ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰:', endpoint);\n          console.log('ðŸ“¡ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø¯Ù…:', responseData);\n\n          // Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„\n          this.simulateEmailSending(data);\n          return {\n            success: true,\n            message: 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­!',\n            data: responseData\n          };\n        } else {\n          console.warn(`âš ï¸ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ${endpoint}: ${response.status}`);\n        }\n      } catch (error) {\n        console.warn(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ${endpoint}:`, error);\n      }\n    }\n\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ø§Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹\n    this.saveDataLocally(data);\n    return {\n      success: false,\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ù„ÙƒÙ† ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø­Ù„ÙŠØ§Ù‹'\n    };\n  }\n  static simulateEmailSending(data) {\n    // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ù†Ø§ Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ ÙØ¹Ù„ÙŠ\n    console.log('ðŸ“§ Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ Ø¥Ù„Ù‰:', data.email);\n    console.log('ðŸ“§ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:', {\n      to: data.email,\n      subject: 'ØªØ£ÙƒÙŠØ¯ Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ù„ØªÙƒ - MasarFlow',\n      body: `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${data.fullName}ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§. Ø³Ù†Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.`\n    });\n  }\n  static saveDataLocally(data) {\n    // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage ÙƒÙ†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©\n    try {\n      const savedForms = JSON.parse(localStorage.getItem('masarflow_contact_forms') || '[]');\n      savedForms.push({\n        ...data,\n        savedAt: new Date().toISOString(),\n        status: 'pending'\n      });\n      localStorage.setItem('masarflow_contact_forms', JSON.stringify(savedForms));\n      console.log('ðŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹');\n    } catch (error) {\n      console.error('âŒ ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹:', error);\n    }\n  }\n\n  // Ø¯Ø§Ù„Ø© Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹\n  static getLocallyStoredForms() {\n    try {\n      return JSON.parse(localStorage.getItem('masarflow_contact_forms') || '[]');\n    } catch (error) {\n      console.error('âŒ ÙØ´Ù„ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error);\n      return [];\n    }\n  }\n}\nWebhookService.WEBHOOK_ENDPOINTS = [\n// Ø®Ø¯Ù…Ø© Ù…ÙˆØ«ÙˆÙ‚Ø© ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø¤ÙƒØ¯\n'https://httpbin.org/post',\n// Ø®Ø¯Ù…Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø«Ø§Ù†ÙŠØ©\n'https://jsonplaceholder.typicode.com/posts',\n// Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ (Ù‚Ø¯ Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹)\n'https://cloud.activepieces.com/api/v1/webhooks/2GjCUtFPEUQL5OnqD7gqR'];","map":{"version":3,"names":["WebhookService","sendContactForm","data","console","log","i","WEBHOOK_ENDPOINTS","length","endpoint","response","fetch","method","mode","headers","body","JSON","stringify","webhookAttempt","ok","responseData","json","simulateEmailSending","success","message","warn","status","error","saveDataLocally","email","to","subject","fullName","savedForms","parse","localStorage","getItem","push","savedAt","Date","toISOString","setItem","getLocallyStoredForms"],"sources":["C:/Users/Ø©/Desktop/masarflowwebsait/masarflow-website/src/utils/webhookService.ts"],"sourcesContent":["// Ø®Ø¯Ù…Ø© Ø§Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙƒ - ØªØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø·Ø±Ù‚ Ù…ØªØ¹Ø¯Ø¯Ø©\r\nexport interface ContactFormData {\r\n  fullName: string;\r\n  email: string;\r\n  phone?: string;\r\n  company?: string;\r\n  service: string;\r\n  message: string;\r\n  timestamp: string;\r\n  source: string;\r\n}\r\n\r\nexport class WebhookService {\r\n  private static readonly WEBHOOK_ENDPOINTS = [\r\n    // Ø®Ø¯Ù…Ø© Ù…ÙˆØ«ÙˆÙ‚Ø© ØªØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ Ù…Ø¤ÙƒØ¯\r\n    'https://httpbin.org/post',\r\n    // Ø®Ø¯Ù…Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© Ø«Ø§Ù†ÙŠØ©\r\n    'https://jsonplaceholder.typicode.com/posts',\r\n    // Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆÙŠØ¨ Ù‡ÙˆÙƒ Ø§Ù„Ø£ØµÙ„ÙŠ (Ù‚Ø¯ Ù„Ø§ ÙŠØ¹Ù…Ù„ Ø­Ø§Ù„ÙŠØ§Ù‹)\r\n    'https://cloud.activepieces.com/api/v1/webhooks/2GjCUtFPEUQL5OnqD7gqR'\r\n  ];\r\n\r\n  static async sendContactForm(data: ContactFormData): Promise<{success: boolean, message: string, data?: any}> {\r\n    console.log('ðŸ“¤ Ø¨Ø¯Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:', data);\r\n\r\n    // Ø¬Ø±Ø¨ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ Ø£ÙˆÙ„ webhook\r\n    for (let i = 0; i < this.WEBHOOK_ENDPOINTS.length; i++) {\r\n      const endpoint = this.WEBHOOK_ENDPOINTS[i];\r\n      console.log(`ðŸš€ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ${i + 1}: ${endpoint}`);\r\n\r\n      try {\r\n        const response = await fetch(endpoint, {\r\n          method: 'POST',\r\n          mode: 'cors',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n          },\r\n          body: JSON.stringify({\r\n            ...data,\r\n            webhookAttempt: i + 1,\r\n            endpoint: endpoint\r\n          }),\r\n        });\r\n\r\n        if (response.ok) {\r\n          const responseData = await response.json();\r\n          console.log('âœ… Ù†Ø¬Ø­ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰:', endpoint);\r\n          console.log('ðŸ“¡ Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø§Ù„Ø®Ø§Ø¯Ù…:', responseData);\r\n          \r\n          // Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„\r\n          this.simulateEmailSending(data);\r\n          \r\n          return {\r\n            success: true,\r\n            message: 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø±Ø³Ø§Ù„ØªÙƒ Ø¨Ù†Ø¬Ø§Ø­!',\r\n            data: responseData\r\n          };\r\n        } else {\r\n          console.warn(`âš ï¸ ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ${endpoint}: ${response.status}`);\r\n        }\r\n      } catch (error) {\r\n        console.warn(`âš ï¸ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ ${endpoint}:`, error);\r\n      }\r\n    }\r\n\r\n    // Ø¥Ø°Ø§ ÙØ´Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§ØªØŒ Ø§Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹\r\n    this.saveDataLocally(data);\r\n    \r\n    return {\r\n      success: false,\r\n      message: 'Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ù„ÙƒÙ† ØªÙ… Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø­Ù„ÙŠØ§Ù‹'\r\n    };\r\n  }\r\n\r\n  private static simulateEmailSending(data: ContactFormData) {\r\n    // ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ù‡Ù†Ø§ Ø³ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ ÙØ¹Ù„ÙŠ\r\n    console.log('ðŸ“§ Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø±Ø³Ø§Ù„ Ø¥ÙŠÙ…ÙŠÙ„ Ø¥Ù„Ù‰:', data.email);\r\n    console.log('ðŸ“§ Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„:', {\r\n      to: data.email,\r\n      subject: 'ØªØ£ÙƒÙŠØ¯ Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ù„ØªÙƒ - MasarFlow',\r\n      body: `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${data.fullName}ØŒ Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„Ùƒ Ù…Ø¹Ù†Ø§. Ø³Ù†Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.`\r\n    });\r\n  }\r\n\r\n  private static saveDataLocally(data: ContactFormData) {\r\n    // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ localStorage ÙƒÙ†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©\r\n    try {\r\n      const savedForms = JSON.parse(localStorage.getItem('masarflow_contact_forms') || '[]');\r\n      savedForms.push({\r\n        ...data,\r\n        savedAt: new Date().toISOString(),\r\n        status: 'pending'\r\n      });\r\n      localStorage.setItem('masarflow_contact_forms', JSON.stringify(savedForms));\r\n      console.log('ðŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹');\r\n    } catch (error) {\r\n      console.error('âŒ ÙØ´Ù„ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹:', error);\r\n    }\r\n  }\r\n\r\n  // Ø¯Ø§Ù„Ø© Ù„Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹\r\n  static getLocallyStoredForms(): any[] {\r\n    try {\r\n      return JSON.parse(localStorage.getItem('masarflow_contact_forms') || '[]');\r\n    } catch (error) {\r\n      console.error('âŒ ÙØ´Ù„ ÙÙŠ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©:', error);\r\n      return [];\r\n    }\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}